(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4522c099"],{"0e4c":function(t,e,n){},"2ec1":function(t,e,n){},"2ee4":function(t,e,n){!function(e,n){t.exports=n()}("undefined"!=typeof self&&self,(function(){return function(t){function e(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=7)}([function(t,e){t.exports=function(t,e,n,a,i,o){var r,s=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(r=t,s=t.default);var l,u="function"==typeof s?s.options:s;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),i&&(u._scopeId=i),o?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=l):a&&(l=a),l){var d=u.functional,p=d?u.render:u.beforeCreate;d?(u._injectStyles=l,u.render=function(t,e){return l.call(e),p(t,e)}):u.beforeCreate=p?[].concat(p,l):[l]}return{esModule:r,exports:s,options:u}}},function(t,e,n){"use strict";var a=n(2),i=n(4),o=n(14);e.a={name:"form-wizard",components:{WizardButton:a.a,WizardStep:i.a},props:{title:{type:String,default:"Awesome Wizard"},subtitle:{type:String,default:"Split a complicated flow in multiple steps"},nextButtonText:{type:String,default:"Next"},backButtonText:{type:String,default:"Back"},finishButtonText:{type:String,default:"Finish"},hideButtons:{type:Boolean,default:!1},validateOnBack:Boolean,color:{type:String,default:"#e74c3c"},errorColor:{type:String,default:"#8b0000"},shape:{type:String,default:"circle"},layout:{type:String,default:"horizontal"},stepsClasses:{type:[String,Array],default:""},stepSize:{type:String,default:"md",validator:function(t){return-1!==["xs","sm","md","lg"].indexOf(t)}},transition:{type:String,default:""},startIndex:{type:Number,default:0,validator:function(t){return t>=0}}},provide:function(){return{addTab:this.addTab,removeTab:this.removeTab}},data:function(){return{activeTabIndex:0,currentPercentage:0,maxStep:0,loading:!1,tabs:[]}},computed:{slotProps:function(){return{nextTab:this.nextTab,prevTab:this.prevTab,activeTabIndex:this.activeTabIndex,isLastStep:this.isLastStep,fillButtonStyle:this.fillButtonStyle}},tabCount:function(){return this.tabs.length},isLastStep:function(){return this.activeTabIndex===this.tabCount-1},isVertical:function(){return"vertical"===this.layout},displayPrevButton:function(){return 0!==this.activeTabIndex},stepPercentage:function(){return 1/(2*this.tabCount)*100},progressBarStyle:function(){return{backgroundColor:this.color,width:this.progress+"%",color:this.color}},fillButtonStyle:function(){return{backgroundColor:this.color,borderColor:this.color,color:"white"}},progress:function(){return this.activeTabIndex>0?this.stepPercentage*(2*this.activeTabIndex+1):this.stepPercentage}},methods:{emitTabChange:function(t,e){this.$emit("on-change",t,e),this.$emit("update:startIndex",e)},addTab:function(t){var e=this.$slots.default.indexOf(t.$vnode);t.tabId=""+t.title.replace(/ /g,"")+e,this.tabs.splice(e,0,t),e<this.activeTabIndex+1&&(this.maxStep=e,this.changeTab(this.activeTabIndex+1,e))},removeTab:function(t){var e=this.tabs,n=e.indexOf(t);n>-1&&(n===this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.changeTab(this.activeTabIndex,this.activeTabIndex-1)),n<this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.activeTabIndex=this.activeTabIndex-1,this.emitTabChange(this.activeTabIndex+1,this.activeTabIndex)),e.splice(n,1))},reset:function(){this.maxStep=0,this.tabs.forEach((function(t){t.checked=!1})),this.navigateToTab(0)},activateAll:function(){this.maxStep=this.tabs.length-1,this.tabs.forEach((function(t){t.checked=!0}))},navigateToTab:function(t){var e=this,n=t>this.activeTabIndex;if(t<=this.maxStep){var a=function a(){n&&t-e.activeTabIndex>1?(e.changeTab(e.activeTabIndex,e.activeTabIndex+1),e.beforeTabChange(e.activeTabIndex,a)):(e.changeTab(e.activeTabIndex,t),e.afterTabChange(e.activeTabIndex))};n?this.beforeTabChange(this.activeTabIndex,a):(this.setValidationError(null),a())}return t<=this.maxStep},nextTab:function(){var t=this,e=function(){t.activeTabIndex<t.tabCount-1?(t.changeTab(t.activeTabIndex,t.activeTabIndex+1),t.afterTabChange(t.activeTabIndex)):t.$emit("on-complete")};this.beforeTabChange(this.activeTabIndex,e)},prevTab:function(){var t=this,e=function(){t.activeTabIndex>0&&(t.setValidationError(null),t.changeTab(t.activeTabIndex,t.activeTabIndex-1))};this.validateOnBack?this.beforeTabChange(this.activeTabIndex,e):e()},focusNextTab:function(){var t=Object(o.b)(this.tabs);if(-1!==t&&t<this.tabs.length-1){var e=this.tabs[t+1];e.checked&&Object(o.a)(e.tabId)}},focusPrevTab:function(){var t=Object(o.b)(this.tabs);if(-1!==t&&t>0){var e=this.tabs[t-1].tabId;Object(o.a)(e)}},setLoading:function(t){this.loading=t,this.$emit("on-loading",t)},setValidationError:function(t){this.tabs[this.activeTabIndex].validationError=t,this.$emit("on-error",t)},validateBeforeChange:function(t,e){var n=this;if(this.setValidationError(null),Object(o.c)(t))this.setLoading(!0),t.then((function(t){n.setLoading(!1);var a=!0===t;n.executeBeforeChange(a,e)})).catch((function(t){n.setLoading(!1),n.setValidationError(t)}));else{var a=!0===t;this.executeBeforeChange(a,e)}},executeBeforeChange:function(t,e){this.$emit("on-validate",t,this.activeTabIndex),t?e():this.tabs[this.activeTabIndex].validationError="error"},beforeTabChange:function(t,e){if(!this.loading){var n=this.tabs[t];if(n&&void 0!==n.beforeChange){var a=n.beforeChange();this.validateBeforeChange(a,e)}else e()}},afterTabChange:function(t){if(!this.loading){var e=this.tabs[t];e&&void 0!==e.afterChange&&e.afterChange()}},changeTab:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this.tabs[t],i=this.tabs[e];return a&&(a.active=!1),i&&(i.active=!0),n&&this.activeTabIndex!==e&&this.emitTabChange(t,e),this.activeTabIndex=e,this.activateTabAndCheckStep(this.activeTabIndex),!0},tryChangeRoute:function(t){this.$router&&t.route&&this.$router.push(t.route)},checkRouteChange:function(t){var e=-1,n=this.tabs.find((function(n,a){var i=n.route===t;return i&&(e=a),i}));if(n&&!n.active){var a=e>this.activeTabIndex;this.navigateToTab(e,a)}},deactivateTabs:function(){this.tabs.forEach((function(t){t.active=!1}))},activateTab:function(t){this.deactivateTabs();var e=this.tabs[t];e&&(e.active=!0,e.checked=!0,this.tryChangeRoute(e))},activateTabAndCheckStep:function(t){this.activateTab(t),t>this.maxStep&&(this.maxStep=t),this.activeTabIndex=t},initializeTabs:function(){this.tabs.length>0&&0===this.startIndex&&this.activateTab(this.activeTabIndex),this.startIndex<this.tabs.length?this.activateTabAndCheckStep(this.startIndex):window.console.warn("Prop startIndex set to "+this.startIndex+" is greater than the number of tabs - "+this.tabs.length+". Make sure that the starting index is less than the number of tabs registered")}},mounted:function(){this.initializeTabs()},watch:{"$route.path":function(t){this.checkRouteChange(t)}}}},function(t,e,n){"use strict";function a(t){n(10)}var i=n(3),o=n(11),r=n(0),s=a,c=r(i.a,o.a,!1,s,null,null);e.a=c.exports},function(t,e,n){"use strict";e.a={}},function(t,e,n){"use strict";function a(t){n(12)}var i=n(5),o=n(13),r=n(0),s=a,c=r(i.a,o.a,!1,s,null,null);e.a=c.exports},function(t,e,n){"use strict";e.a={name:"wizard-step",props:{tab:{type:Object,default:function(){}},transition:{type:String,default:""},index:{type:Number,default:0}},computed:{iconActiveStyle:function(){return{backgroundColor:this.tab.color}},stepCheckedStyle:function(){return{borderColor:this.tab.color}},errorStyle:function(){return{borderColor:this.tab.errorColor,backgroundColor:this.tab.errorColor}},stepTitleStyle:function(){return{color:this.tab.validationError?this.tab.errorColor:this.tab.color}},isStepSquare:function(){return"square"===this.tab.shape},isTabShape:function(){return"tab"===this.tab.shape}}}},function(t,e,n){"use strict";e.a={name:"tab-content",props:{title:{type:String,default:""},icon:{type:String,default:""},beforeChange:{type:Function},afterChange:{type:Function},route:{type:[String,Object]},additionalInfo:{type:Object,default:function(){}}},inject:["addTab","removeTab"],data:function(){return{active:!1,validationError:null,checked:!1,tabId:""}},computed:{shape:function(){return this.$parent.shape},color:function(){return this.$parent.color},errorColor:function(){return this.$parent.errorColor}},mounted:function(){this.addTab(this)},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.removeTab(this)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(8),i=n(16),o=n(2),r=n(4);n.d(e,"FormWizard",(function(){return a.a})),n.d(e,"TabContent",(function(){return i.a})),n.d(e,"WizardButton",(function(){return o.a})),n.d(e,"WizardStep",(function(){return r.a}));var s={install:function(t){t.component("form-wizard",a.a),t.component("tab-content",i.a),t.component("wizard-button",o.a),t.component("wizard-step",r.a)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(s),e.default=s},function(t,e,n){"use strict";function a(t){n(9)}var i=n(1),o=n(15),r=n(0),s=a,c=r(i.a,o.a,!1,s,null,null);e.a=c.exports},function(t,e){},function(t,e){},function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"wizard-btn",attrs:{tabindex:"-1",type:"button"}},[t._t("default")],2)},i=[],o={render:a,staticRenderFns:i};e.a=o},function(t,e){},function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{class:{active:t.tab.active}},[n("a",{class:{disabled:!t.tab.checked},attrs:{href:"javascript:void(0)"}},[n("div",{staticClass:"wizard-icon-circle md",class:{checked:t.tab.checked,square_shape:t.isStepSquare,tab_shape:t.isTabShape},style:[t.tab.checked?t.stepCheckedStyle:{},t.tab.validationError?t.errorStyle:{}],attrs:{role:"tab",tabindex:t.tab.checked?0:"",id:"step-"+t.tab.tabId,"aria-controls":t.tab.tabId,"aria-disabled":t.tab.active,"aria-selected":t.tab.active}},[n("transition",{attrs:{name:t.transition,mode:"out-in"}},[t.tab.active?n("div",{staticClass:"wizard-icon-container",class:{square_shape:t.isStepSquare,tab_shape:t.isTabShape},style:[t.tab.active?t.iconActiveStyle:{},t.tab.validationError?t.errorStyle:{}]},[t._t("active-step",[t.tab.icon?n("i",{staticClass:"wizard-icon",class:t.tab.icon}):n("i",{staticClass:"wizard-icon"},[t._v(t._s(t.index+1))])])],2):t._e(),t._v(" "),t.tab.active?t._e():t._t("default",[!t.tab.active&&t.tab.icon?n("i",{staticClass:"wizard-icon",class:t.tab.icon}):t._e(),t._v(" "),t.tab.active||t.tab.icon?t._e():n("i",{staticClass:"wizard-icon"},[t._v(t._s(t.index+1))])])],2)],1),t._v(" "),t._t("title",[n("span",{staticClass:"stepTitle",class:{active:t.tab.active,has_error:t.tab.validationError},style:t.tab.active?t.stepTitleStyle:{}},[t._v("\n            "+t._s(t.tab.title)+"\n      ")])])],2)])},i=[],o={render:a,staticRenderFns:i};e.a=o},function(t,e,n){"use strict";function a(){return document.activeElement.id}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=a();return t.findIndex((function(t){return t.tabId===e}))}function o(t){document.getElementById(t).focus()}function r(t){return t.then&&"function"==typeof t.then}e.b=i,e.a=o,e.c=r},function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-form-wizard",class:[t.stepSize,{vertical:t.isVertical}],on:{keyup:[function(e){return"button"in e||!t._k(e.keyCode,"right",39,e.key)?"button"in e&&2!==e.button?null:void t.focusNextTab(e):null},function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key)?"button"in e&&0!==e.button?null:void t.focusPrevTab(e):null}]}},[n("div",{staticClass:"wizard-header"},[t._t("title",[n("h4",{staticClass:"wizard-title"},[t._v(t._s(t.title))]),t._v(" "),n("p",{staticClass:"category"},[t._v(t._s(t.subtitle))])])],2),t._v(" "),n("div",{staticClass:"wizard-navigation"},[t.isVertical?t._e():n("div",{staticClass:"wizard-progress-with-circle"},[n("div",{staticClass:"wizard-progress-bar",style:t.progressBarStyle})]),t._v(" "),n("ul",{staticClass:"wizard-nav wizard-nav-pills",class:t.stepsClasses,attrs:{role:"tablist"}},[t._l(t.tabs,(function(e,a){return t._t("step",[n("wizard-step",{attrs:{tab:e,"step-size":t.stepSize,transition:t.transition,index:a},nativeOn:{click:function(e){t.navigateToTab(a)},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.navigateToTab(a)}}})],{tab:e,index:a,navigateToTab:t.navigateToTab,stepSize:t.stepSize,transition:t.transition})}))],2),t._v(" "),n("div",{staticClass:"wizard-tab-content"},[t._t("default",null,null,t.slotProps)],2)]),t._v(" "),t.hideButtons?t._e():n("div",{staticClass:"wizard-card-footer clearfix"},[t._t("footer",[n("div",{staticClass:"wizard-footer-left"},[t.displayPrevButton?n("span",{attrs:{role:"button",tabindex:"0"},on:{click:t.prevTab,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.prevTab(e)}}},[t._t("prev",[n("wizard-button",{style:t.fillButtonStyle,attrs:{disabled:t.loading}},[t._v("\n              "+t._s(t.backButtonText)+"\n            ")])],null,t.slotProps)],2):t._e(),t._v(" "),t._t("custom-buttons-left",null,null,t.slotProps)],2),t._v(" "),n("div",{staticClass:"wizard-footer-right"},[t._t("custom-buttons-right",null,null,t.slotProps),t._v(" "),t.isLastStep?n("span",{attrs:{role:"button",tabindex:"0"},on:{click:t.nextTab,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.nextTab(e)}}},[t._t("finish",[n("wizard-button",{style:t.fillButtonStyle},[t._v("\n              "+t._s(t.finishButtonText)+"\n            ")])],null,t.slotProps)],2):n("span",{attrs:{role:"button",tabindex:"0"},on:{click:t.nextTab,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.nextTab(e)}}},[t._t("next",[n("wizard-button",{style:t.fillButtonStyle,attrs:{disabled:t.loading}},[t._v("\n            "+t._s(t.nextButtonText)+"\n           ")])],null,t.slotProps)],2)],2)],null,t.slotProps)],2)])},i=[],o={render:a,staticRenderFns:i};e.a=o},function(t,e,n){"use strict";var a=n(6),i=n(17),o=n(0),r=o(a.a,i.a,!1,null,null,null);e.a=r.exports},function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"wizard-tab-container",attrs:{role:"tabpanel",id:t.tabId,"aria-hidden":!t.active,"aria-labelledby":"step-"+t.tabId}},[t._t("default",null,{active:t.active})],2)},i=[],o={render:a,staticRenderFns:i};e.a=o}])}))},3227:function(t,e,n){"use strict";n("62ee")},"32e7":function(t,e,n){},"3f3e":function(t,e,n){"use strict";n("e4a0")},"479c":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"new-product-body"},[t.is_editing?n("editWizard",{on:{updateProductsList:function(e){return t.updateProductsList()}}}):n("newWizard",{on:{updateProductsList:function(e){return t.updateProductsList()}}}),n("el-col",{attrs:{span:14}},[n("productsListPage",{ref:"productListPageRef"})],1)],1)},i=[],o=n("5530"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",[n("el-col",{staticStyle:{"text-align":"center"},attrs:{span:24}},[n("h3",{staticStyle:{color:"gray"}},[t._v(" Мавжуд махсулот турлари")])]),n("el-col",{attrs:{span:24}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.gettingTableData,expression:"gettingTableData"}],attrs:{data:t.tableData,border:"",stripe:"",height:"calc(100vh - 10rem)"}},[n("el-table-column",{attrs:{width:"50",type:"expand",fixed:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-table",{staticStyle:{width:"100%",border:"1px solid #cecece"},attrs:{data:e.row.product_types,"show-header":!0,height:"100%","row-class-name":t.rowClassName,stripe:""}},[n("el-table-column",{attrs:{label:"Тури",prop:"type_name","min-width":150,align:"center"}}),n("el-table-column",{attrs:{label:"Коди",prop:"code","min-width":150,align:"center"}}),n("el-table-column",{attrs:{label:"Размер",prop:"size","min-width":150,align:"center"}}),n("el-table-column",{attrs:{width:"170",label:"Товарни расми",prop:"photo",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[n("div",{staticStyle:{display:"flex","justify-content":"space-around"}},[n("el-image",{staticStyle:{width:"30px",height:"30px"},attrs:{src:a.row.photo_path,fit:"scale-down"},on:{click:function(e){return t.openImg(a.row.photo_path)}}}),n("editTheImage",{attrs:{product_id:e.row._id,type_id:a.row._id,index:a.$index,old_image:a.row.photo_path,imageUrl:a.row.photo_path},on:{updateTable:function(e){return t.getData()}}})],1)]}}],null,!0)})],1)]}}])}),n("el-table-column",{attrs:{label:"Махсулот номи",prop:"product_name"}}),n("el-table-column",{attrs:{width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticStyle:{border:"1px solid transparent"},attrs:{icon:"el-icon-edit"},on:{click:function(n){return t.editProduct(e.row)}}})]}}])})],1),n("el-dialog",{attrs:{top:"1%",title:"",visible:t.showImageDilog,"append-to-body":"",width:"40%"},on:{"update:visible":function(e){t.showImageDilog=e}}},[n("el-image",{staticStyle:{width:"100%",height:"90%"},attrs:{src:t.imageUrl,fit:"scale-down"}})],1)],1)],1)},s=[],c=n("53ca"),l=n("b775"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{attrs:{icon:"el-icon-edit",type:"text"},on:{click:function(e){t.dialogVisible=!0}}}),n("el-dialog",{attrs:{title:"Расмни ўзгартириш",visible:t.dialogVisible,width:"40%",align:"center","append-to-body":""},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("span",[n("el-image",{staticStyle:{width:"100%",height:"90%"},attrs:{src:t.imageUrl,fit:"scale-down"}}),n("el-upload",{staticClass:"upload-demo",attrs:{action:"","on-change":t.handleChange,"on-remove":t.handleRemove,"file-list":t.photo,limit:2,"list-type":"picture","on-exceed":t.handleExceed}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("Янги расмни юклаш")]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Отмена")]),n("el-button",{attrs:{loading:t.imageSaving,disabled:t.imageSaving||0===t.photo.length,type:"primary"},on:{click:function(e){return t.confirmEditPhoto()}}},[t._v(" Сохранить ")])],1)])],1)},d=[],p=n("1da1"),h=(n("96cf"),n("a9e3"),n("ac1f"),n("1276"),n("b0c0"),n("d3b7"),n("5c96")),f={props:{old_image:{type:String,required:!0},imageUrl:{type:String,required:!0},product_id:{type:String,required:!0},type_id:{type:String,required:!0},index:{type:Number,required:!0}},data:function(){return{dialogVisible:!1,photo:[],imageSaving:!1}},methods:{handleChange:function(t,e){this.photo=[t]},handleRemove:function(){this.photo=[]},handleExceed:function(t,e){this.photo=[e[0]]},confirmEditPhoto:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.imageSaving=!0,n=!1,a=t.imageUrl.split("/"),a=a[a.length-1],e.next=7,t.delete_photo(a);case 7:return e.next=9,t.uploadImages(t.photo[0]).catch((function(t){Object(h["Message"])({message:t.response.data,type:"error",duration:3e3}),n=!0}));case 9:return i=e.sent,e.next=12,t.uploadToS3(t.photo[0].raw,i.data.signedRequest);case 12:if(n){e.next=15;break}return e.next=15,t.editThePhoto({product_id:t.product_id,type_id:t.type_id,photo:i.data.path,index:t.index,old_image:t.old_image}).catch((function(t){Object(h["Message"])({message:t.response.data,type:"error",duration:3e3})}));case 15:n=!1,t.imageSaving=!1,t.$emit("updateTable"),e.next=24;break;case 20:e.prev=20,e.t0=e["catch"](0),console.error(e.t0),t.imageSaving=!1;case 24:case"end":return e.stop()}}),e,null,[[0,20]])})))()},delete_photo:function(t){return Object(l["a"])({url:"/products/delete-image",method:"DELETE",data:{name:t}})},uploadImages:function(t){return Object(l["a"])({url:"/products/upload-images",method:"POST",data:{name:t.raw.name,type:t.raw.type}})},editThePhoto:function(t){return Object(l["a"])({url:"/products/update-type-photo",data:t,method:"PUT"})},uploadToS3:function(t,e){return new Promise((function(n,a){var i=new XMLHttpRequest;i.open("PUT",e),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?n():(a(),alert("Could not upload file.")))},i.send(t)}))}}},b=f,m=n("2877"),g=Object(m["a"])(b,u,d,!1,null,null,null),y=g.exports,v=n("2f62"),_={components:{editTheImage:y},data:function(){return{tableData:[],baseApi:"http://165.232.153.58:3001/",showImageDilog:!1,imageUrl:"",gettingTableData:!1}},mounted:function(){this.getData()},methods:Object(o["a"])(Object(o["a"])({},Object(v["d"])("newProduct",["SET_EDIT_STATUS","SET_DATA_TO_EDIT"])),{},{getData:function(){var t=this;this.gettingTableData=!0,Object(l["a"])({url:"/products/get_product_types",method:"GET"}).then((function(e){t.gettingTableData=!1,t.tableData=e.data})).catch((function(e){t.tableData=[],t.gettingTableData=!1,console.error(e)}))},openImg:function(t){this.showImageDilog=!0,this.imageUrl=t},clone:function(t){if(null==t||"object"!==Object(c["a"])(t))return t;var e=new t.constructor;for(var n in t)e[n]=this.clone(t[n]);return e},editProduct:function(t){this.SET_EDIT_STATUS(!0),this.SET_DATA_TO_EDIT(this.clone(t))},rowClassName:function(t){var e=t.row;if(e.isMain)return"is-main-type"}})},T=_,w=(n("e293"),Object(m["a"])(T,r,s,!1,null,null,null)),x=w.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-col",{staticClass:"left-side",attrs:{span:10}},[n("h3",{staticStyle:{"text-align":"center",color:"gray"}},[t._v("Янги махсулот қўшиш")]),n("form-wizard",{ref:"FormWizardRef",staticClass:"frm-wzrd",attrs:{color:"#20a0ff","step-size":"xs","error-color":"#ff4949",title:"",subtitle:""},on:{"on-complete":t.onComplete,"on-change":t.tabChanged}},[n("tab-content",{staticClass:"tb-cnt",attrs:{title:"Номланиши/Тури"}},[n("stepOne",{ref:"stepOneRef"})],1),n("tab-content",{staticClass:"tb-cnt",attrs:{lazy:!0,title:"Турларни детализацияси"}},[n("stepTwo")],1),n("tab-content",{staticClass:"tb-cnt",attrs:{lazy:!0,title:"Ревизия"}},[n("stepThree")],1),n("template",{staticStyle:{"pardding-right":"2rem"},slot:"custom-buttons-right"},[n("el-button",{staticStyle:{"margin-right":"1rem"},attrs:{type:"danger"},on:{click:function(e){t.cancelConfirmDialog=!0}}},[t._v("Отмена")])],1),n("template",{slot:"finish"},[n("el-button",{attrs:{type:"primary",loading:t.finishing,disabled:t.finishing}},[t._v("Янги махсулотни сақлаш")])],1),n("template",{slot:"next"},[n("el-button",{attrs:{type:"primary"}},[t._v("Следуюший")])],1),n("template",{slot:"prev"},[n("el-button",{attrs:{type:"primary"}},[t._v("Назад")])],1)],2),n("el-dialog",{attrs:{title:"Янги махсулот яратишни бекор қилиш",visible:t.cancelConfirmDialog,width:"50%",align:"center"},on:{"update:visible":function(e){t.cancelConfirmDialog=e}}},[n("span",[t._v("Янги махсулот яратишни бекор қилишга розимисиз?")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.cancelConfirmDialog=!1}}},[t._v("Йўқ")]),n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.Cancel()}}},[t._v("Ха")])],1)])],1)},C=[],k=n("2ee4"),O=(n("da93"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"stepOne",attrs:{gutter:10}},[n("el-col",{attrs:{offset:2,span:20}},[n("el-input",{attrs:{placeholder:"Махсулот номи"},on:{change:t.nameChanging},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("el-col",{staticStyle:{"margin-top":"20px"},attrs:{offset:2,span:20}},[n("div",{staticClass:"newType"},[n("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"Янги тури"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addNewType()}},model:{value:t.typeObject.name,callback:function(e){t.$set(t.typeObject,"name",e)},expression:"typeObject.name"}}),n("el-button",{on:{click:function(e){return t.addNewType()}}},[t._v("Қўшиш")])],1)]),n("el-col",{staticStyle:{"margin-top":"20px"},attrs:{offset:2,span:20}},[n("div",{staticClass:"types"},[n("el-table",{attrs:{"empty-text":"Махсулот тури ҳали киритилмади","show-header":!1,data:t.types,height:"100%",width:"100%",border:""}},[n("el-table-column",{attrs:{type:"index",align:"center"}}),n("el-table-column",{attrs:{prop:"type_name",label:"Name",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.editing.status&&e.row.id===t.editing.id?n("el-input",{nativeOn:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.saveEdit(e.row.type_name)}},model:{value:t.editedType,callback:function(e){t.editedType=e},expression:"editedType"}}):n("p",[t._v(t._s(e.row.type_name))])]}}])}),n("el-table-column",{attrs:{width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.editing.status&&e.row.id===t.editing.id?n("el-button",{attrs:{type:"text",icon:"el-icon-check"},on:{click:function(n){return t.saveEdit(e.row.type_name)}}}):n("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(n){return t.editThis(e.row)}}})]}}])}),n("el-table-column",{attrs:{width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{style:{color:t.editing.status?"gray":"red"},attrs:{type:"text",icon:"el-icon-delete",disabled:t.editing.status},on:{click:function(n){return t.deleteThis(e.row.type_name)}}})]}}])})],1)],1)])],1)}),I=[],E=(n("c740"),n("e9c4"),n("498a"),n("a434"),{data:function(){return{name:"",types:[],editing:{status:!1,id:null},typeObject:{name:""},editedType:""}},mounted:function(){this.workWithLocalStorage()},methods:{checkAndStoreToLocalHost:function(t){var e=JSON.parse(localStorage.getItem("types"));if(e){var n=e.findIndex((function(e){return e.type_name===t}));-1===n&&(e.push({id:e[e.length-1].id+1,type_name:t}),localStorage.setItem("types",JSON.stringify(e)))}},workWithLocalStorage:function(){var t=localStorage.getItem("types");null===t?(localStorage.setItem("types",JSON.stringify([{id:0,type_name:"ОЧИ"},{id:1,type_name:"ТЎҚИ"},{id:2,type_name:"ДЕКОР"},{id:3,type_name:"СИГАРА"},{id:4,type_name:"ПОЛ"},{id:5,type_name:"ФРИЗ"}])),this.types=[{id:0,type_name:"ОЧИ"},{id:1,type_name:"ТЎҚИ"},{id:2,type_name:"ДЕКОР"},{id:3,type_name:"СИГАРА"},{id:4,type_name:"ПОЛ"},{id:5,type_name:"ФРИЗ"}],this.$store.commit("newProduct/SET_TYPES",this.types)):(this.types=JSON.parse(localStorage.getItem("types")),this.$store.commit("newProduct/SET_TYPES",this.types))},reset:function(){this.name="",this.workWithLocalStorage(),this.editing={status:!1,id:null},this.typeObject={name:""},this.editedType=""},nameChanging:function(t){console.log(t),this.$store.commit("newProduct/SET_NAME",t)},addNewType:function(){var t=this.typeObject.name+"",e=this.types.findIndex((function(e){return e.type_name===t}));-1===e&&(0===this.types.length?this.types.push({id:0,type_name:t}):(this.checkAndStoreToLocalHost(t),this.types.push({id:this.types[this.types.length-1].id+1,type_name:t})),this.typeObject.name="",this.$store.commit("newProduct/SET_TYPES",this.types))},editThis:function(t){console.log("row: ",t),this.editing.status=!0,this.editing.id=t.id,this.editedType=t.type_name},saveEdit:function(t){this.editing.status=!1;var e=this.types.findIndex((function(e){return e.type_name.toLowerCase().trim()===t.toLowerCase().trim()}));this.types[e].type_name=this.editedType+"",this.editedType="",this.$store.commit("newProduct/SET_TYPES",this.types)},deleteThis:function(t){var e=this.types.findIndex((function(e){return e.type_name.toLowerCase().trim()===t.toLowerCase().trim()}));this.types.splice(e,1),this.$store.commit("newProduct/SET_TYPES",this.types)}}}),P=E,j=(n("f020"),Object(m["a"])(P,O,I,!1,null,null,null)),$=j.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"stepOne",attrs:{gutter:10}},[n("el-col",{staticClass:"step-header",attrs:{span:24}},[n("h2",[t._v(t._s(t.$store.state.newProduct.product_name))])]),n("el-col",{staticClass:"selectType",attrs:{span:24}},[n("el-select",{attrs:{placeholder:"Турлари"},on:{change:t.typeChoosen},model:{value:t.currentType,callback:function(e){t.currentType=e},expression:"currentType"}},t._l(t.types,(function(t){return n("el-option",{key:t.id,attrs:{label:t.type_name,value:t.id}})})),1)],1),n("el-col",{staticClass:"typeTitle",attrs:{span:24}},[n("h4",[t._v(t._s(t.currentTypeName))])]),n("el-col",{attrs:{span:24}},[n("el-form",{attrs:{model:t.formTwo}},[n("el-form-item",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"Code"}},[n("el-input",{attrs:{placeholder:"Коди"},model:{value:t.formTwo.code,callback:function(e){t.$set(t.formTwo,"code",e)},expression:"formTwo.code"}})],1)],1)],1),n("el-form-item",{},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"Бўйига (cм)"}},[n("el-input",{attrs:{placeholder:"Бўйига (cм)"},model:{value:t.formTwo.height,callback:function(e){t.$set(t.formTwo,"height",e)},expression:"formTwo.height"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"Энига (cм)"}},[n("el-input",{attrs:{placeholder:"Энига (cм)"},model:{value:t.formTwo.width,callback:function(e){t.$set(t.formTwo,"width",e)},expression:"formTwo.width"}})],1)],1),n("el-col",{staticStyle:{height:"4.5rem",display:"flex","align-items":"flex-end"},attrs:{span:8}},[n("el-form-item",{attrs:{label:""}},[n("el-checkbox",{model:{value:t.formTwo.isMain,callback:function(e){t.$set(t.formTwo,"isMain",e)},expression:"formTwo.isMain"}},[t._v("Асоосий размер")])],1)],1)],1)],1),n("el-upload",{staticClass:"upload-demo",attrs:{action:"","on-change":t.handleChange,"on-remove":t.handleRemove,"file-list":t.photo,limit:2,"list-type":"picture","on-exceed":t.handleExceed}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("Расмни юклаш")]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"})],1)],1),n("el-col",{staticStyle:{display:"flex","justify-content":"center"},attrs:{offset:6,span:12}},[n("el-button",{staticStyle:{color:"green","margin-top":"0.5rem"},attrs:{icon:"el-icon-plus"},on:{click:function(e){return t.save()}}},[t._v("Сақлаш")])],1)],1)},D=[],M=(n("7db0"),n("99af"),{data:function(){return{objectURL:null,currentType:"",code:"",size:"",photo:[],last_changedId:-1,formTwo:{code:"",height:"",width:"",isMain:!1}}},computed:Object(o["a"])(Object(o["a"])({},Object(v["e"])("newProduct",["types"])),{},{currentTypeName:function(){var t=this;return void 0!==this.types.find((function(e){return e.id+""===t.currentType+""}))?this.types.find((function(e){return e.id+""===t.currentType+""})).name:""}}),methods:{save:function(){var t=this,e=this.types.find((function(e){return e.id+""===t.currentType+""}));console.log("TYPE: ",e),e.code=this.formTwo.code+"",e.height=parseFloat(this.formTwo.height),e.width=parseFloat(this.formTwo.width),e.size="".concat(e.height,"*").concat(e.width),e.isMain=this.formTwo.isMain,e.photo=this.photo[0],this.last_changedId=e.id;var n=this.types.findIndex((function(t){return t.id+""===e.id+""})),a=this.types.find((function(t){return t.id!==e.id&&t.code===e.code}));a?Object(h["Message"])({message:"Bir hil Kod Mumkin emas",type:"error",duration:3e3}):(this.$store.commit("newProduct/SET_TYPE",{index:n,type:e}),this.formTwo={id:"",code:"",height:"",width:"",isMain:!1},this.photo=[],this.currentType="")},handleChange:function(t,e){this.photo=[t]},handleRemove:function(){this.photo=[]},handleExceed:function(t,e){console.log(),this.photo=[e[0]]},typeChoosen:function(t){var e=this;console.log(t,"type changed");var n=this.types.find((function(e){return e.id===t}));if(console.log("types",n),n&&!1===!!n.code){if(this.formTwo={id:n.id,code:"",height:"",width:"",isMain:!1},this.types.length>=0&&this.last_changedId>-1){var a=this.types.find((function(t){return t.id===e.last_changedId}));console.log("last_changedId",this.last_changedId),this.formTwo={id:a.id?a.id:"",code:a.code,height:a.height,width:a.width,isMain:a.isMain}}this.photo=n.photo?[n.photo]:[]}else n&&!0===!!n.code&&(this.formTwo={id:n.id,code:n.code,height:n.height,width:n.width,isMain:n.isMain},this.photo=n.photo?[n.photo]:[])}}}),R=M,L=(n("a063"),Object(m["a"])(R,z,D,!1,null,null,null)),N=L.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",[n("el-col",{staticClass:"step-header",attrs:{span:24}},[n("h2",[t._v(t._s(t.$store.state.newProduct.product_name))])]),n("el-col",{attrs:{span:24}},[n("el-table",{attrs:{width:"100%",data:t.types,"row-class-name":t.tableRowClassName}},[n("el-table-column",{attrs:{type:"index",label:"№",align:"center"}}),n("el-table-column",{attrs:{prop:"code",label:"Коди",align:"center"}}),n("el-table-column",{attrs:{prop:"type_name",label:"Турлари",align:"center"}}),n("el-table-column",{attrs:{label:"Размери",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.height)+"*"+t._s(e.row.width)+" ")]}}])}),n("el-table-column",{attrs:{label:"Расми",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-image",{staticStyle:{width:"25px",height:"25px"},attrs:{src:e.row.photo?e.row.photo.url:"",fit:"scale-down"},on:{click:function(n){return t.showImage(e.row.name,e.row.photo?e.row.photo.url:"")}}})]}}])})],1)],1),n("el-dialog",{attrs:{title:"",visible:t.showImageDilog,width:"40%"},on:{"update:visible":function(e){t.showImageDilog=e}}},[n("el-image",{staticStyle:{width:"90%",height:"90%"},attrs:{src:t.imageUrl,fit:"scale-down"}})],1)],1)},B=[],F={data:function(){return{showImageDilog:!1,currentType:"",imageUrl:""}},computed:Object(o["a"])({},Object(v["e"])("newProduct",["types"])),methods:{showImage:function(t,e){this.showImageDilog=!0,this.currentType=t,this.imageUrl=e},tableRowClassName:function(t){var e=t.row;t.rowIndex;return e.isMain?"success-row":""}}},U=F,W=(n("6faa"),Object(m["a"])(U,A,B,!1,null,null,null)),V=W.exports,Y={name:"NewProduct",components:{FormWizard:k["FormWizard"],TabContent:k["TabContent"],stepOne:$,stepTwo:N,stepThree:V},data:function(){return{cancelConfirmDialog:!1,finishing:!1}},computed:Object(o["a"])({},Object(v["e"])("newProduct",["types","product_name"])),methods:Object(o["a"])(Object(o["a"])({},Object(v["b"])("newProduct",["UPLOAD_IMAGES","UPLOAD_TYPES"])),{},{onComplete:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n,a,i,o,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(e.prev=0,t.finishing=!0,n=0,a=0;a<t.types.length;a++)t.types[a].isMain&&n++;if(1!==n){e.next=29;break}i=0;case 6:if(!(i<t.types.length)){e.next=19;break}return o=new FormData,o.append("image",t.types[i].photo.raw),console.log("this.types[i].photo",t.types[i].photo),e.next=12,t.UPLOAD_IMAGES({name:t.types[i].photo.raw.name,type:t.types[i].photo.raw.type});case 12:return r=e.sent,e.next=15,t.uploadToS3(t.types[i].photo.raw,r.data.signedRequest);case 15:t.types[i].photo_path=r.data.path;case 16:i++,e.next=6;break;case 19:return s={product_name:t.product_name,product_types:t.types},e.next=22,t.UPLOAD_TYPES(s);case 22:Object(h["Message"])({message:"Янги махсулот мувоффақиятли яратилди",duration:3e3,type:"success"}),t.finishing=!1,t.Cancel(),t.$emit("updateProductsList"),n=0,e.next=31;break;case 29:t.finishing=!1,t.$notify({message:"Сиз асосий размерни танламагансиз ёки кўп асосий размер белгилагансиз",duration:3500,type:"error"});case 31:e.next=38;break;case 33:e.prev=33,e.t0=e["catch"](0),t.finishing=!1,console.log(e.t0),Object(h["Message"])({message:e.t0.response.data.message,type:"error",duration:2e3});case 38:case"end":return e.stop()}}),e,null,[[0,33]])})))()},tabChanged:function(){},Cancel:function(){this.cancelConfirmDialog=!1,this.$refs.FormWizardRef.reset(),this.$store.commit("newProduct/SET_TYPES",[]),this.$store.commit("newProduct/SET_NAME",""),this.$refs.stepOneRef.reset()},uploadToS3:function(t,e){return new Promise((function(n,a){var i=new XMLHttpRequest;i.open("PUT",e),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?n():(a(),alert("Could not upload file.")))},i.send(t)}))}})},q=Y,J=Object(m["a"])(q,S,C,!1,null,null,null),H=J.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-col",{staticClass:"left-side",attrs:{span:10}},[n("h3",{staticStyle:{"text-align":"center",color:"gray"}},[t._v("Тахрирлаш ")]),n("form-wizard",{ref:"FormWizardRef",staticClass:"frm-wzrd",attrs:{color:"#20a0ff","step-size":"xs","error-color":"#ff4949",title:"",subtitle:""},on:{"on-complete":t.onComplete,"on-change":t.tabChanged}},[n("tab-content",{staticClass:"tb-cnt",attrs:{title:"Номланиши/Тури"}},[n("stepOne",{ref:"stepOneRef"})],1),n("tab-content",{staticClass:"tb-cnt",attrs:{lazy:!0,title:"Турларни детализацияси"}},[n("stepTwo")],1),n("tab-content",{staticClass:"tb-cnt",attrs:{lazy:!0,title:"Ревизия"}},[n("stepThree")],1),n("template",{staticStyle:{"pardding-right":"2rem"},slot:"custom-buttons-right"},[n("el-button",{staticStyle:{"margin-right":"1rem"},attrs:{type:"danger"},on:{click:function(e){t.cancelConfirmDialog=!0}}},[t._v("Отмена")])],1),n("template",{slot:"finish"},[n("el-button",{attrs:{type:"primary",loading:t.finishing,disabled:t.finishing}},[t._v("Ўзгаришни сақалаш")])],1),n("template",{slot:"next"},[n("el-button",{attrs:{type:"primary"}},[t._v("Следуюший")])],1),n("template",{slot:"prev"},[n("el-button",{attrs:{type:"primary"}},[t._v("Назад")])],1)],2),n("el-dialog",{attrs:{title:"Янги махсулот яратишни бекор қилиш",visible:t.cancelConfirmDialog,width:"50%",align:"center"},on:{"update:visible":function(e){t.cancelConfirmDialog=e}}},[n("span",[t._v("Махсулотни тахрирлашни бекор қилишни розимисиз?")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.cancelConfirmDialog=!1}}},[t._v("Йўқ")]),n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.Cancel()}}},[t._v("Ха")])],1)])],1)},G=[],K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"stepOne",attrs:{gutter:10}},[n("el-col",{attrs:{offset:2,span:20}},[n("el-input",{attrs:{placeholder:"Махсулот номи"},on:{change:t.nameChanging},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("el-col",{staticStyle:{"margin-top":"20px"},attrs:{offset:2,span:20}},[n("div",{staticClass:"types"},[n("el-table",{attrs:{"empty-text":"Махсулот тури ҳали киритилмади","show-header":!1,data:t.types_,height:"20rem",width:"100%",border:""}},[n("el-table-column",{attrs:{type:"index",align:"center"}}),n("el-table-column",{attrs:{prop:"type_name",label:"Name",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.editing.status&&e.row._id===t.editing._id?n("el-input",{nativeOn:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.saveEdit(e.row.type_name)}},model:{value:t.editedType,callback:function(e){t.editedType=e},expression:"editedType"}}):n("p",[t._v(t._s(e.row.type_name))])]}}])}),n("el-table-column",{attrs:{width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.editing.status&&e.row._id===t.editing._id?n("el-button",{attrs:{type:"text",icon:"el-icon-check"},on:{click:function(n){return t.saveEdit(e.row.type_name)}}}):n("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(n){return t.editThis(e.row)}}})]}}])})],1)],1)])],1)},Q=[],Z={data:function(){return{name:"",types_:[],editing:{status:!1,_id:null},typeObject:{name:""},editedType:""}},computed:Object(o["a"])({},Object(v["e"])("newProduct",["product_name","types"])),mounted:function(){var t=this;setTimeout((function(){t.name=t.product_name,t.types_=t.types}),350)},methods:{reset:function(){this.name="",this.editing={status:!1,_id:null},this.typeObject={name:""},this.editedType=""},nameChanging:function(t){console.log(t),this.$store.commit("newProduct/SET_NAME",t)},editThis:function(t){console.log("row: ",t),this.editing.status=!0,this.editing._id=t._id,this.editedType=t.type_name},saveEdit:function(t){this.editing.status=!1;var e=this.types_.findIndex((function(e){return e.type_name.toLowerCase().trim()===t.toLowerCase().trim()}));this.types_[e].type_name=this.editedType+"",this.editedType="",this.$store.commit("newProduct/SET_TYPES",this.types_)}}},tt=Z,et=(n("d944"),Object(m["a"])(tt,K,Q,!1,null,null,null)),nt=et.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"stepOne",attrs:{gutter:10}},[n("el-col",{staticClass:"step-header",attrs:{span:24}},[n("h2",[t._v(t._s(t.$store.state.newProduct.product_name))])]),n("el-col",{staticClass:"selectType",attrs:{span:24}},[n("el-select",{attrs:{placeholder:"Турлари"},on:{change:t.typeChoosen},model:{value:t.currentType,callback:function(e){t.currentType=e},expression:"currentType"}},t._l(t.types,(function(t){return n("el-option",{key:t._id,attrs:{label:t.type_name,value:t._id}})})),1)],1),n("el-col",{staticClass:"typeTitle",attrs:{span:24}},[n("h4",[t._v(t._s(t.currentTypeName))])]),n("el-col",{attrs:{span:24}},[n("el-form",{attrs:{model:t.formTwo}},[n("el-form-item",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"Code"}},[n("el-input",{attrs:{placeholder:"Коди"},model:{value:t.formTwo.code,callback:function(e){t.$set(t.formTwo,"code",e)},expression:"formTwo.code"}})],1)],1)],1),n("el-form-item",{},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"Бўйига (cм)"}},[n("el-input",{attrs:{placeholder:"Бўйига (cм)"},model:{value:t.formTwo.height,callback:function(e){t.$set(t.formTwo,"height",e)},expression:"formTwo.height"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"Энига (cм)"}},[n("el-input",{attrs:{placeholder:"Энига (cм)"},model:{value:t.formTwo.width,callback:function(e){t.$set(t.formTwo,"width",e)},expression:"formTwo.width"}})],1)],1),n("el-col",{staticStyle:{height:"4.5rem",display:"flex","align-items":"flex-end"},attrs:{span:8}},[n("el-form-item",{attrs:{label:""}},[n("el-checkbox",{model:{value:t.formTwo.isMain,callback:function(e){t.$set(t.formTwo,"isMain",e)},expression:"formTwo.isMain"}},[t._v("Асоосий размер")])],1)],1)],1)],1)],1),n("el-col",{staticStyle:{display:"flex","justify-content":"center"},attrs:{offset:6,span:12}},[n("el-button",{staticStyle:{color:"green","margin-top":"0.5rem"},attrs:{icon:"el-icon-plus"},on:{click:function(e){return t.save()}}},[t._v("Сақлаш")])],1)],1)},it=[],ot={data:function(){return{objectURL:null,currentType:"",code:"",size:"",formTwo:{code:"",height:"",width:"",isMain:!1}}},computed:Object(o["a"])(Object(o["a"])({},Object(v["e"])("newProduct",["types"])),{},{currentTypeName:function(){var t=this;return void 0!==this.types.find((function(e){return e._id+""===t.currentType+""}))?this.types.find((function(e){return e._id+""===t.currentType+""})).name:""}}),methods:{save:function(){var t=this,e=this.types.find((function(e){return e._id+""===t.currentType+""}));console.log("TYPE: ",this.formTwo),e.code=this.formTwo.code+"",e.height=parseFloat(this.formTwo.height),e.width=parseFloat(this.formTwo.width),e.size="".concat(e.height,"*").concat(e.width),e.isMain=this.formTwo.isMain;var n=this.types.findIndex((function(t){return t._id+""===e._id+""}));this.$store.commit("newProduct/SET_TYPE",{index:n,type:e}),this.formTwo={code:"",height:"",width:"",isMain:!1,photo_path:e.photo_path},this.currentType=""},typeChoosen:function(t){console.log(t);var e=this.types.find((function(e){return e._id===t}));console.log("type",e),e&&(this.formTwo={code:e.code?e.code:"",height:e.height?e.height:"",width:e.width?e.width:"",isMain:!!e.isMain&&e.isMain,photo_path:e.photo_path})}}},rt=ot,st=(n("3f3e"),Object(m["a"])(rt,at,it,!1,null,null,null)),ct=st.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",[n("el-col",{staticClass:"step-header",attrs:{span:24}},[n("h2",[t._v(t._s(t.$store.state.newProduct.product_name))])]),n("el-col",{attrs:{span:24}},[n("el-table",{attrs:{width:"100%",data:t.types}},[n("el-table-column",{attrs:{type:"index",label:"№",align:"center"}}),n("el-table-column",{attrs:{prop:"code",label:"Коди",align:"center"}}),n("el-table-column",{attrs:{prop:"type_name",label:"Турлари",align:"center"}}),n("el-table-column",{attrs:{label:"Размери",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.height)+"*"+t._s(e.row.width)+" ")]}}])})],1)],1)],1)},ut=[],dt={data:function(){return{currentType:""}},computed:Object(o["a"])({},Object(v["e"])("newProduct",["types"])),methods:{}},pt=dt,ht=(n("aaa0"),Object(m["a"])(pt,lt,ut,!1,null,null,null)),ft=ht.exports,bt={name:"NewProduct",components:{FormWizard:k["FormWizard"],TabContent:k["TabContent"],stepOne:nt,stepTwo:ct,stepThree:ft},data:function(){return{cancelConfirmDialog:!1,finishing:!1}},computed:Object(o["a"])({},Object(v["e"])("newProduct",["types","product_name","editing_product_id"])),methods:Object(o["a"])(Object(o["a"])({},Object(v["b"])("newProduct",["EDIT_TYPES"])),{},{onComplete:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.finishing=!0,n={product_name:t.product_name,product_types:t.types,product_id:t.editing_product_id},e.next=5,t.EDIT_TYPES(n);case 5:Object(h["Message"])({message:"Махсулот мувоффақиятли тахрирланди",duration:3e3,type:"success"}),t.finishing=!1,t.$emit("updateProductsList"),t.Cancel(),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),t.finishing=!1,Object(h["Message"])({message:e.t0,type:"error",duration:2e3});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()},tabChanged:function(){},Cancel:function(){this.cancelConfirmDialog=!1,this.$refs.FormWizardRef.reset(),this.$store.commit("newProduct/SET_TYPES",[]),this.$store.commit("newProduct/SET_NAME",""),this.$store.commit("newProduct/SET_EDIT_STATUS",!1),this.$refs.stepOneRef.reset()}})},mt=bt,gt=Object(m["a"])(mt,X,G,!1,null,null,null),yt=gt.exports,vt={name:"NewProduct",components:{editWizard:yt,newWizard:H,productsListPage:x},data:function(){return{}},computed:Object(o["a"])({},Object(v["e"])("newProduct",["is_editing"])),methods:{updateProductsList:function(){this.$refs.productListPageRef.getData()}}},_t=vt,Tt=(n("3227"),Object(m["a"])(_t,a,i,!1,null,null,null));e["default"]=Tt.exports},"62ee":function(t,e,n){},"6faa":function(t,e,n){"use strict";n("b985")},"7db0":function(t,e,n){"use strict";var a=n("23e7"),i=n("b727").find,o=n("44d2"),r=n("ae40"),s="find",c=!0,l=r(s);s in[]&&Array(1)[s]((function(){c=!1})),a({target:"Array",proto:!0,forced:c||!l},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(s)},"9eed":function(t,e,n){},a063:function(t,e,n){"use strict";n("2ec1")},a0b0:function(t,e,n){},aaa0:function(t,e,n){"use strict";n("32e7")},b985:function(t,e,n){},d944:function(t,e,n){"use strict";n("9eed")},da93:function(t,e,n){},e293:function(t,e,n){"use strict";n("0e4c")},e4a0:function(t,e,n){},e9c4:function(t,e,n){var a=n("23e7"),i=n("d066"),o=n("d039"),r=i("JSON","stringify"),s=/[\uD800-\uDFFF]/g,c=/^[\uD800-\uDBFF]$/,l=/^[\uDC00-\uDFFF]$/,u=function(t,e,n){var a=n.charAt(e-1),i=n.charAt(e+1);return c.test(t)&&!l.test(i)||l.test(t)&&!c.test(a)?"\\u"+t.charCodeAt(0).toString(16):t},d=o((function(){return'"\\udf06\\ud834"'!==r("\udf06\ud834")||'"\\udead"'!==r("\udead")}));r&&a({target:"JSON",stat:!0,forced:d},{stringify:function(t,e,n){var a=r.apply(null,arguments);return"string"==typeof a?a.replace(s,u):a}})},f020:function(t,e,n){"use strict";n("a0b0")}}]);